{% load staticfiles %}

<!doctype html>
<html lang="en" ng-app="expenses">
<head>
	<meta charset="UTF-8">
	<title>Simplexpense</title>
	<link rel="stylesheet" href="{% static "css/user.css" %}">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.3/angular.min.js"></script>
	<script src="http://code.angularjs.org/1.2.3/angular-resource.min.js"></script>
	<script src="http://code.angularjs.org/1.2.3/angular-animate.min.js"></script>
	<script src="{% static "js/main.js" %}"></script>
	<script>
		c = '{{categories|escapejs}}'
		categories = JSON.parse(c)

		e = '{{expenses|escapejs}}'
		expenses = JSON.parse(e);
	</script>
</head>
<body>
	{% verbatim %}			
	<div class="wrapper" ng-controller="mainController">
		<nav class="menu-block">
			<div class="menu-toggle">
				<span class="menu-toggle-line"></span>
				<span class="menu-toggle-line"></span>
				<span class="menu-toggle-line"></span>
			</div>
			<ul class="menu-links">
				<li class="menu-link-item"><a href="plan">Plan</a></li>
				<li class="menu-link-item"><a href="history">History</a></li>
				<li class="menu-link-item"><a href="settings">Settings</a></li>
			</ul>
		</nav>
		<header class="test" ng-class="headerClass ? 'add-expense-translate' : ''">

			<div class="expense-form">
				<input class="add-expense-sum" type="text" value="0.00" ng-init="exp_amount='0.00'" ng-model="exp_amount">
				<ul class="add-expense-categories-list">
					<li class="add-expense-category" ng-class="categoryClass ? 'add-expense-category-selected' : ''" ng-repeat="category in categories" ng-click="selectCategory()">{{category.title}}</li>
					<li class="add-expense-new-category">Add Category</li>
				</ul>
				<!-- Make it button or something more semantic -->
				<input class="add-expense-description" ng-model="exp_description" type="text">
				<label class="add-expense-description-label"><i>(Description)</i></label>
				<input class="add-expense-submit" ng-click="testam(3)" type="submit">
			</div>

			<span class="add-expense" ng-click="translateForm(headerClass)">+</span>
		</header>

		<section class="this-month-block">
			<span class="sum-expenses" ng-init="sumExpenses()">{{thisMonthAmount}}</span>
			<div class="graph">
				<canvas class="category" style="background: {{category.color}}" ng-repeat="category in categories"></canvas>
			</div>
			<h3 class="graph-expl">This month</h3>
		</section>

		<section class="planned-block">
			<span class="sum-planned" ng-init="sumPlanned()">{{nextMonthAmount}}</span>
			<div class="graph">
				<canvas class="category" style="background: {{category.color}}" ng-repeat="category in categories"></canvas>
			</div>
			<h3 class="graph-expl">Planned</h3>
		</section>

		<section class="expenses-block">
			<ul class="expenses-list">
				<li ng-repeat="expense in expenses" class="expense">
					<span class="category-square" ng-init="stil=testas()" style="{{stil}}"></span>
					<span class="expense-sum">{{expense.amount}}</span>
					<h3 class="expense-description">{{expense.description}}</h3>
					<h3 class="expense-date">{{expense.date}}</h3>
				</li>
			</ul>
		</section>
		{% endverbatim %}

	</div>
	<!-- Let's see how the things will end up -->
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> -->
</body>
</html>